"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _utils=_interopRequireDefault(require("./utils"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var spinnerOptionsBase={changeContent:!0,changeContentTime:1e3,changeContentLoop:!0},Spinner=function(){function t(t,e){this.element=t,this.options=_utils.default.mergeDefault(spinnerOptionsBase,e),this.contents=[],this.mode="order",this.percent=0,this.spinnerContent=document.createElement("div"),this.spinnerContent.classList.add(_utils.default.classNames("ota__spinner-content")),this.childPercent,this.index=0,this.interval,this.spin=document.createElement("div"),this.spin.classList.add(_utils.default.classNames("ota__spin")),this.spinnerContent.appendChild(this.spin),this.element.appendChild(this.spinnerContent)}return t.prototype.addContentList=function(t){return this.contents.concat(t),this},t.prototype.setMode=function(t){if(-1===["order","random"].indexOf(t))throw new Error("Invalid mode");return this.mode=t,this},t.prototype.incrementPercent=function(t){return this.percent+=t,0<this.percent&&!this.childPercent&&(this.childPercent=document.createElement("div"),this.childPercent.classList.add("spinner-percent"),this.spinnerContent.appendChild(this.childPercent)),100<this.percent&&(this.percent=100),this.percent<0&&(this.percent=0),this.childPercent&&(this.childPercent.innerText=this.percent+"%"),this},t.prototype.getIndex=function(){if("order"!==this.mode)return this.index=Math.floor(Math.random()*this.contents.length);var t=this.index;return this.contents.length-1<t?this.index=0:this.index++,t},t.prototype.changeContent=function(t){return this.spin.innerText=t,this},t.prototype.start=function(){var t=this,e=this.contents[this.getIndex()];return this.options.changeContent?this.interval=setInterval(function(){e=t.contents[t.getIndex()],t.changeContent(e)},this.options.changeContentTime):this.changeContent(e),this},t.prototype.destroy=function(){return clearInterval(this.interval),this},t}(),_default=Spinner;exports.default=_default,Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var has=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},Util=function(){function i(){}return i.mergeDefault=function(t,e){if(!e)return t;for(var n in t)has(e,n)&&void 0!==e[n]?e[n]===Object(e[n])&&(e[n]=i.mergeDefault(t[n],e[n])):e[n]=t[n];return e},i.classNames=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.map(function(t){return"ota__"+t}).join(" ")},i}(),_default=Util;exports.default=_default;
//# sourceMappingURL=bundle.js.map
